<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="parte de graficas.html">
</head>
<body>
    <h2>Agregar Nueva Auditoría</h2>
    <h:form id="formAgregar">
    <h:panelGrid columns="3" cellpadding="5">
        <h:outputLabel value="Objetivo de Auditoría:" />
        <h:inputText id="nuevoObjetivo" value="#{indicadoresAuditoriaBean.nuevoObjetivo}" />

        <h:outputLabel value="Efectividad (%):" />
        <h:inputText id="nuevaEfectividad" value="#{indicadoresAuditoriaBean.nuevaEfectividad}" />

        <h:commandButton value="Agregar" action="#{indicadoresAuditoriaBean.agregarObjetivo}" update="tablaObjetivos graficoCanvas" />
    </h:panelGrid>
    </h:form>

    <h:dataTable id="tablaObjetivos" value="#{indicadoresAuditoriaBean.objetivos}" var="objetivo" border="1">
    <h:column>
        <f:facet name="header">Objetivo de Auditoría</f:facet>
        #{objetivo.nombre}
    </h:column>
    <h:column>
        <f:facet name="header">Efectividad (%)</f:facet>
        #{objetivo.efectividad}
    </h:column>
    </h:dataTable>

    <h:panelGroup id="graficoCanvas">
        <canvas id="graficoEfectividad"></canvas>
    </h:panelGroup>

</body>
</html>